{% extends "base.html" %}
{% block conteudo %}
<div class="login-container">
  <div class="login-box shadow-lg p-4 rounded text-center">

    <!-- LOGO -->
    <img src="{{ url_for('static', filename='img/logo.png') }}" alt="Logo" class="login-logo mb-3">
    <h4 class="fw-bold text-primary">Área Técnica</h4>
    <p class="text-muted small mb-4">Acesse com suas credenciais para gerenciar os chamados</p>

    <!-- ALERTA DE ERRO -->
    {% if erro %}
    <div class="alert alert-danger py-2 mb-3">{{ erro }}</div>
    {% endif %}

    <!-- FORMULÁRIO -->
    <form method="post" action="{{ url_for('login') }}">
      <div class="mb-3 text-start">
        <label class="form-label fw-semibold">Usuário</label>
        <div class="input-group">
          <span class="input-group-text bg-light"><i class="bi bi-person"></i></span>
          <input type="text" name="usuario" class="form-control" placeholder="Digite seu usuário" required>
        </div>
      </div>

      <div class="mb-4 text-start">
        <label class="form-label fw-semibold">Senha</label>
        <div class="input-group">
          <span class="input-group-text bg-light"><i class="bi bi-lock"></i></span>
          <input type="password" name="senha" id="senha" class="form-control" placeholder="Digite sua senha" required>
          <button type="button" class="btn btn-outline-secondary" id="toggleSenha"><i class="bi bi-eye"></i></button>
        </div>
      </div>

      <button type="submit" class="btn btn-primary w-100 py-2 fw-semibold">
        <i class="bi bi-box-arrow-in-right me-2"></i> Entrar
      </button>
    </form>

  </div>
</div>

<!-- RODAPÉ -->
<footer>
  ⚡ Sistema de Chamados Institucionais — Plataforma Corporativa
</footer>

<script>
  const senha = document.getElementById("senha");
  const toggle = document.getElementById("toggleSenha");
  toggle.addEventListener("click", () => {
    const visivel = senha.type === "text";
    senha.type = visivel ? "password" : "text";
    toggle.querySelector("i").classList.toggle("bi-eye");
    toggle.querySelector("i").classList.toggle("bi-eye-slash");
  });
</script>
{% endblock %}
