{% extends "base.html" %}
{% block content %}

<div class="d-flex justify-content-center align-items-center" style="min-height: 85vh;">
  <div class="card shadow-lg p-4 w-100" style="max-width: 420px; border-radius: 1rem;">
    
    <div class="text-center mb-3">
      <img src="{{ url_for('static', filename='img/logo.png') }}" alt="Logo" width="80" height="80" class="mb-2 rounded-circle">
      <h4 class="fw-bold text-primary">Área Técnica</h4>
      <p class="text-muted small mb-0">Acesse com suas credenciais para gerenciar os chamados</p>
    </div>

    <form method="post" action="{{ url_for('login') }}" class="mt-3">
      <div class="mb-3">
        <label class="form-label fw-semibold">Usuário</label>
        <input type="text" name="usuario" class="form-control form-control-lg" placeholder="Digite seu usuário" required>
      </div>

      <div class="mb-3">
        <label class="form-label fw-semibold">Senha</label>
        <div class="position-relative">
          <input type="password" name="senha" id="senha" class="form-control form-control-lg pe-5" placeholder="Digite sua senha" required>
          <i class="bi bi-eye position-absolute top-50 end-0 translate-middle-y me-3 text-secondary" id="toggleSenha" style="cursor: pointer; font-size: 1.3rem;"></i>
        </div>
      </div>

      {% if erro %}
      <div class="alert alert-danger text-center py-2 mt-2" role="alert">
        {{ erro }}
      </div>
      {% endif %}

      <div class="d-grid mt-4">
        <button type="submit" class="btn btn-primary btn-lg shadow-sm py-2 fs-5">Entrar</button>
      </div>
    </form>
  </div>
</div>

<script>
  const senhaInput = document.getElementById("senha");
  const toggleIcon = document.getElementById("toggleSenha");
  toggleIcon.addEventListener("click", function () {
    const isPassword = senhaInput.getAttribute("type") === "password";
    senhaInput.setAttribute("type", isPassword ? "text" : "password");
    toggleIcon.classList.toggle("bi-eye");
    toggleIcon.classList.toggle("bi-eye-slash");
  });
</script>

{% endblock %}
